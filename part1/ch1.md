# Domain Modeling Made Functional

## Domain-Driven Design 소개

- 코드만 잘 짜면 되는 것이 아님
- 좋은 설계가 좋은 결과를 줄 것임
- DDD는 Data Driven, Object Oriented와는 다름
- DDD 접근 방식이 항상 좋은 것은 아니지만 비개발자와 협업하는 엔터프라이즈 개발에는 도움이 됨

### 공유 모델의 중요성

- 문제를 풀기전에 문제를 정확히 이해하는 것이 중요함
- 개발자가 도메인을 잘 이해하는 것이 중요함
- 도메인 전문가가 비즈니스 분석가에게 도메인에 대해 설명한 후 분석가는 요구사항 명세를 만들고 아키텍트에게
  전달하고 다음 개발팀으로 전달되면 도메인에 대한 내용이 왜곡 될 가능성이 커짐
- 도메인 전문가가 개발팀에게 직접 도메인에 대한 설명을 하고 개발팀을 구현 후 도메인 전문가에게 피드백을
  주는 애자일 방식이 그나마 나음
- 하지만 애자일 방식에서 피드백이 빠르긴 하지만 도메인 내용이 왜곡될 수 있음
- 만약 소스 코드가 개발팀과 도메인 전문가와 이해관계자가 함께 볼 수 있다면 더 빠른 피드백으로 도메인 내용을
  빨리 반영할 수 있음. 이것이 DDD의 목표.
- 공유 모델을 만들기 위한 가이드
  - 데이터 구조 보다는 비지니스 이벤트와 워크플로우에 집중
  - 도메인을 더 작은 단위로 나눈다
  - 작은 도메인을 모델로 만든다.
  - 프로젝트에 참여하는 사람이 공유할 수 있는 일반적인 언어(유비쿼터스 언어)로 만든다.

### 비지니스 이벤트를 통해 도메인 이해하기

- 도메인을 이해하기 위해서 비지니스 이벤트 부터 시작하는 것이 좋다.
- 비지니스는 데이터 변환 과정에 가치가 있기 때문에 이 변환 과정이 어떻게 되는지 이해하는 것이 중요하다.
- 아무 것도 하지 않는 정적인 데이터는 쓸모가 없다.
- 특정 이벤트로 데이터 변환이 시작된다.(이메일, 전화를 받거나, 정해진 시간이 되거나...)
- 뭐가 되든 이것이 중요하고 이것을 도메인 이벤트라고 부른다.
- 도메인 이벤트는 비지니스 프로세스의 시작점이 된다. 예를 들어 '새로운 주문을 받았다'라는 이벤트는 주문
  프로세스가 시작됨을 말한다.
- 도메인 이벤트는 변할 수 없기 때문에 항상 과거 시점을 작성된다.

#### 도메인을 발견하기 위해 이벤트 스토밍 사용하기

- 프로젝트가 성공하기 바라는 모든 사람들이 모여 도메인 이벤트를 나열한다. (포스트잇...)

#### 도메인 발견하기: 주문 추적 시스템

- Widget Inc 라는 회사는 손으로 하던 주문 추적을 온라인 시스템으로 만들기로 하였다.
- 비지니스 이벤트에 초점을 맞춰서 도메인을 찾아보자.
- 주문 도착, 준비됨, 발송됨, 주문 변경됨, 주문 취소됨 ....
- ...

### 도메인을 서브 도메인으로 나누기

### 경계(Bounded Context)로 문제 해결하기

- 

### 유비쿼터스 언어 만들기

### 요약
